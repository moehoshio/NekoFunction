@PACKAGE_INIT@

# Find required dependencies
include(CMakeFindDependencyMacro)
find_dependency(NekoSchema REQUIRED)

# Find optional dependencies based on enabled features
# These are set during package configuration
set(NEKO_FUNCTION_HAS_HASH @NEKO_FUNCTION_ENABLE_HASH@)
set(NEKO_FUNCTION_HAS_ARCHIVER @NEKO_FUNCTION_ENABLE_ARCHIVER@)

if(NEKO_FUNCTION_HAS_HASH)
    find_dependency(OpenSSL REQUIRED)
endif()

if(NEKO_FUNCTION_HAS_ARCHIVER)
	find_dependency(minizip-ng REQUIRED)
endif()

# Include the targets file
include("${CMAKE_CURRENT_LIST_DIR}/NekoFunctionTargets.cmake")

# Recreate alias for consumers
if(TARGET NekoFunction AND NOT TARGET Neko::Function)
	add_library(Neko::Function ALIAS NekoFunction)
endif()
if(TARGET NekoFunction_module AND NOT TARGET Neko::Function::Module)
	add_library(Neko::Function::Module ALIAS NekoFunction_module)
endif()

check_required_components(NekoFunction)